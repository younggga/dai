(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0552a483"],{"8be0":function(e,t,o){},9544:function(e,t,o){"use strict";var r=o("8be0"),l=o.n(r);l.a},c5d3:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("mt-navbar",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("mt-tab-item",{attrs:{id:"tab-container1"}},[e._v("登录")]),o("mt-tab-item",{attrs:{id:"tab-container2"}},[e._v("注册")])],1),o("mt-tab-container",{attrs:{swipeable:!0},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("mt-tab-container-item",{attrs:{id:"tab-container1"}},[o("div",{staticClass:"loginBox"},[o("h3",{staticClass:"form-title"},[e._v("login")]),o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"密码登录","inactive-text":"验证码登录"},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}}),o("el-form",{ref:"login",attrs:{model:e.login,"status-icon":"",rules:e.userRule,"label-width":"10vw","label-position":"top"}},[o("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[o("el-input",{attrs:{type:"tel",autocomplete:"off"},model:{value:e.login.tel,callback:function(t){e.$set(e.login,"tel",t)},expression:"login.tel"}})],1),e.value4?o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1):e._e(),e.value4?e._e():o("el-form-item",{attrs:{label:"验证码",prop:"randCode"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.login.randCode,callback:function(t){e.$set(e.login,"randCode",t)},expression:"login.randCode"}},[o("template",{slot:"append"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendRegCode("login",e.login.getCodeUrl)}}},[e._v(e._s(e.login.getCodeBtn))])],1)],2)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.logins()}}},[e._v("提交")])],1)],1)],1)]),o("mt-tab-container-item",{attrs:{id:"tab-container2"}},[o("div",{staticClass:"registerBox"},[o("h3",{staticClass:"form-title"},[e._v("register")]),o("el-form",{ref:"register",attrs:{model:e.register,"status-icon":"",rules:e.userRule,"label-width":"10vw","label-position":"top"}},[o("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[o("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.register.tel,callback:function(t){e.$set(e.register,"tel",t)},expression:"register.tel"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{placeholder:"长度6-10位，首位英文",type:"password",autocomplete:"off"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),o("el-form-item",{attrs:{label:"验证码",prop:"randCode"}},[o("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.register.randCode,callback:function(t){e.$set(e.register,"randCode",t)},expression:"register.randCode"}},[o("template",{slot:"append"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sendRegCode("register",e.register.getCodeUrl)}}},[e._v(e._s(e.register.getCodeBtn))])],1)],2)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.registers()}}},[e._v("提交")])],1)],1)],1)])],1)],1)},l=[],a=o("c93e"),s=o("2f62"),n=o("bc3a"),i=o.n(n),c={data:function(){return{active:"tab-container1",value4:!0,login:{tel:null,randCode:null,getCodeBtn:"获取验证码",password:null,btnDisabled:!1,getCodeUrl:"http://39.106.38.187:2525/getLoginCode"},register:{tel:null,randCode:null,password:null,getCodeBtn:"获取验证码",btnDisabled:!1,getCodeUrl:"http://39.106.38.187:2525/getRegCode"},userRule:{tel:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,o){var r=/^1[35678][0-9]{9}$/;r.test(t)?o():o(new Error("手机号码格式不正确！"))},message:"请输入正确格式的手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(e,t,o){var r=/^[a-zA-Z][0-9A-Za-z$_]{5,9}$/;r.test(t)?o():o(new Error("密码格式错误！"))},message:"请输入正确格式的密码",trigger:"blur"}],randCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"4位数字",trigger:"blur"}]}}},methods:Object(a["a"])({},Object(s["d"])([""]),Object(s["b"])([""]),Object(s["c"])([""]),{sendRegCode:function(e,t){var o=this;if(this[e].btnDisabled)return!1;var r=/^1[35678][0-9]{9}$/;if(!r.test(this[e].tel))return this.$alert("请输入手机号",{type:"error",confirmButtonText:"确定",closeOnClickModal:!0,showClose:!1}),!1;var l=this;i.a.get(t,{params:{tel:this[e].tel}}).then(function(t){if(1!=t.data.code)l.$alert(t.data.msg,{confirmButtonText:"确定",showClose:!1,closeOnClickModal:!0});else{o[e].getCodeBtn="请60s后重试",o[e].btnDisabled=!0,o.$alert("验证码发送成功",{showClose:!1,closeOnClickModal:!0});var r=o,a=60,s=setInterval(function(){a--,r[e].getCodeBtn="请".concat(a,"s后重试"),0==a&&(r[e].getCodeBtn="获取验证码",r[e].btnDisabled=!1,clearInterval(s))},1e3)}})},registers:function(){var e=this,t=this.$refs.register;t.validate(function(t){if(!t)return!1;var o=e;i.a.get("http://39.106.38.187:2525/register",{params:{tel:e.register.tel,password:e.register.password,randCode:e.register.randCode}}).then(function(e){1!=e.data.code?o.$alert(e.data.msg,{confirmButtonText:"确定",showClose:!1,closeOnClickModal:!0}):o.$alert("注册成功",{showClose:!1,closeOnClickModal:!0}).then(function(){o.login.tel=o.register.tel,o.active="tab-container1"})})})},logins:function(){var e=this,t=this.$refs.login,o={tel:this.login.tel};this.value4?(o["key"]=this.login.password,o["logintype"]="password"):(o["key"]=this.login.randCode,o["logintype"]="logincode"),t.validate(function(t){if(!t)return!1;var r=e;i.a.get("http://39.106.38.187:2525/login",{params:o}).then(function(e){1!=e.data.code?r.$alert(e.data.msg,{confirmButtonText:"确定",showClose:!1,closeOnClickModal:!0}):r.$alert("登录成功",{confirmButtonText:"确定",showClose:!1,closeOnClickModal:!0,callback:function(){sessionStorage.setItem("loginname",r.login.tel),r.$router.push("/")}})})})}}),components:{}},d=c,u=(o("9544"),o("2877")),g=Object(u["a"])(d,r,l,!1,null,null,null);g.options.__file="login&register.vue";t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-0552a483.27eeecb5.js.map